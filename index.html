<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>풍운 태고 병력표</title>
<style>
body { font-family: Arial; padding: 20px; }
input { margin: 4px; }
button { margin: 6px 0; }
table { border-collapse: collapse; margin-top: 20px; }
th, td { border: 1px solid #ccc; padding: 6px 10px; }
</style>
</head>
<body>

<h2>풍운 태고 병력표</h2>

<input id="nickname" placeholder="닉네임"><br>
<input id="archer" placeholder="궁병">
<input id="spear" placeholder="창병">
<input id="cavalry" placeholder="기병">
<input id="shield" placeholder="방패">
<input id="count" placeholder="병부수량"><br>

<button onclick="save()">입력 / 업데이트</button>
<button onclick="load()">조회하기</button>

<table id="table"></table>

<script>
const API_URL = 'AKfycbxWhLDPXGk4dxSeXcuI1NpSMGeqljh00kn7UmDoZHJc2te0r9biJtN0QifeRAtbCQmT';

function save() {
  const data = {
    nickname: nickname.value,
    archer: archer.value,
    spear: spear.value,
    cavalry: cavalry.value,
    shield: shield.value,
    count: count.value
  };

  fetch(API_URL, {
    method: 'POST',
    body: JSON.stringify(data)
  }).then(() => {
    alert('저장 완료');
    load();
  });
}

function load() {
  fetch(API_URL)
    .then(r => r.json())
    .then(rows => {
      table.innerHTML =
        '<tr><th>닉</th><th>궁</th><th>창</th><th>기</th><th>방</th><th>병부</th></tr>' +
        rows.map(r =>
          `<tr><td>${r.join('</td><td>')}</td></tr>`
        ).join('');
    });
}
</script>

</body>
</html>

